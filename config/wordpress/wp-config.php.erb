<?php
if (""!=getenv("VCAP_SERVICES")) {
	$services = getenv("VCAP_SERVICES");
	$services_json = json_decode($services,true);
	$mysql_config = $services_json["mysql"][0]["credentials"];

	// ** MySQL settings from resource descriptor ** //
	define('DB_NAME', $mysql_config["name"]);
	define('DB_USER', $mysql_config["user"]);
	define('DB_PASSWORD', $mysql_config["password"]);
	define('DB_HOST', $mysql_config["hostname"]);
	define('DB_PORT', $mysql_config["port"]);

} else {
	define('DB_NAME', 'wordpress');
	define('DB_USER', 'root');
	define('DB_PASSWORD', 'secret_password');
	define('DB_HOST', 'localhost');
}

define("DB_CHARSET", "utf8");
define("DB_COLLATE", "");

define("WP_SITEURL", "http://" . $_SERVER['HTTP_HOST'] . "/wordpress" );
define("WP_HOME", "http://" . $_SERVER['HTTP_HOST'] );

define("WP_CONTENT_DIR", dirname( __FILE__ ) . "/wp-content" );
define("WP_CONTENT_URL", WP_HOME . "/wp-content" );

/* Authentication Unique Keys and Salts. */
<%= `curl --silent https://api.wordpress.org/secret-key/1.1/salt/`%>

$table_prefix  = "wp_";
define("WPLANG", "");
define("WP_DEBUG", false);
define("WP_CACHE", getenv("WP_CACHE") == "true");
define("DISABLE_WP_CRON", getenv("DISABLE_WP_CRON") == "true");

if ( !defined("ABSPATH") )
  define("ABSPATH", dirname(__FILE__) . "/");
require_once(ABSPATH . "wp-settings.php");
